
wipe

spr Background '3333133333333333313333333333313333333333333333131333333333333333'
var BackgroundPos 0
var BackgroundScale 41
var BackgroundSize 8

spr SPR1 '+++++00+++++++++++++0770++00+++++000076600770+++07706066667660++06666666606660++066600666666660++06676000066660++07666666666660+067776666607666006777666666006600666776666666660+966776666666660++9966669966669+++++9999++9999+++++++++++++++++++++++++++++++++++'
spr SPR2 '+++++++++00+++++++++00++0770+++++++077006670000+++06676666060770++06660666666660+066666666006660+06666000066660++06666666666670+069670666667776006600666666777600666666666776660066666666677669++9666699666699++++9999++9999++++++++++++++++++++++++++++++++++++'

var POSX 70
var POSY 50
var SCAL 4
var SIZE 16

var Inputs 0


var Direction 1

:Main 

    drawspr Background BackgroundPos BackgroundPos BackgroundScale BackgroundSize


    cmpvi Direction 1
        jife Facing
        jifne NotFacing



    cmpvi Inputs 2
        jife RightInput
        jumpl UpdateInputs

    wipe
    cmpvi Inputs 4
        jife LeftInput
        jumpl UpdateInputs

    wipe
    cmpvi Inputs 1
        jife UpInput
        jumpl UpdateInputs

    wipe
    cmpvi Inputs 3
        jife DownInput
        jumpl UpdateInputs

    wipe
    cmpvi POSX 285
        jifg SetEastPlayerBounds

    wipe
    cmpvi POSX 0
        jifl SetWestPlayerBounds

    wipe
    cmpvi POSY 0
        jifl SetNorthPlayerBounds

    wipe
    cmpvi POSY 200
        jifg SetSouthPlayerBounds

    tick


    jumpl Main


:UpdateInputs
    pullinp Inputs
ret

:SetEastPlayerBounds
    sub POSX 2
ret

:SetNorthPlayerBounds
    add POSY 2
ret

:SetWestPlayerBounds
    add POSX 2
ret

:SetSouthPlayerBounds
    sub POSY 2
ret

:Facing
drawspr SPR1 POSX POSY SCAL SIZE
ret

:NotFacing
drawspr SPR2 POSX POSY SCAL SIZE
ret


:RightInput
    add POSX 1
    var Direction 2
ret

:LeftInput
    sub POSX 1
    var Direction 1
ret

:DownInput
    add POSY 1
ret

:UpInput
    sub POSY 1
ret
